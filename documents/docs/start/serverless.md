---
title: 部署在华为云（已弃置）
lang: 'zh-CN'
permalink: /start/serverless
---
<span style="color:red;">【注意】华为云函数在2023年9月1日起开始收费</span>
## 创建云函数
1. [登录华为云](https://www.huaweicloud.com/)
2. 在搜索框里面搜索“serverless”
3. 点击函数工作流FunctionGraph中的立即使用。
4. 选择区域“北京四”，笔者使用的是北京四，只有一部分区域支持v2函数。
5. 点击左边菜单栏中的函数，然后是函数列表。
6. 点击右上角的红色按钮，创建函数。
7. FunctionGraph版本，选择“FunctionGraph v2”
8. 函数类型，选择“事件函数”
9. “函数名称”可以自己起名
10. “委托名称”不用管
11. 运行时，选择“Go 1.x”
12. 点击右下角红色的创建函数。
13. 点击设置，点击常规测试，将执行超时时间默认的3秒改成120，并保存。
14. 点击上方“代码”回到主解码。
15. 点击右上角的“上传自”，选择“Zip文件”。
16. 选择已经配置好了的linux.zip文件上传，里面包括staic文件夹，config.json配置文件，handler程序。
17. 点击紫色按钮“测试”，选择空白模板（选什么其实也无所谓），点击红色的“创建”按钮。
18. 再次点击紫色按钮“测试”，等待执行结果，执行成功。

## 定时触发
1. 在函数概括中，点击“创建触发器”。
2. 触发类型选择“定时触发器(TIMER)”
3. 定时器名称随意填写
4. 触发规则选择Cron表达式，推荐填写“0 0 20 * * ?”晚上8点执行，或者“0 0 23 * * ?”晚上11点执行。
5. 是否开启打开。
6. 点击红色按钮确定。